<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Language" content="fr" />
  <meta name="language" content="fr" />
  <meta name="designer" content="buzzing light" />
  <meta name="description" content="IanniX documentation" />
  <link href="../Common/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="../Common/font/stylesheet.css" rel="stylesheet" type="text/css" />
  <link href="../Common/css/styleDocumentation.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../Common/jquery.js">
</script>

  <title>IanniX — Scripts</title>
  <style type="text/css">
/*<![CDATA[*/
  a.c1 {color:#aaa; text-decoration:none;}
  /*]]>*/
  </style>
</head>

<body>
  <div class='main container'>
    <table class="onglets" summary="">
      <tr>
        <td class="onglet"><a href="intro.html">Introduction</a></td>

        <td class="onglet"><a href="objets.html">Objets<br />
        fondamentaux</a></td>

        <td class="onglet"><a href="messages.html">Messages émis<br />
        et reçus</a></td>

        <td class="onglet"><a href="overview.html">Interface<br />
        graphique</a></td>

        <td class="onglet" id='actif'><a href="script.html">Scripts</a></td>

        <td class="onglet"><a href="reference.html">Référence</a></td>

        <td class="onglet"><a href="listing.html">Index<br />
        des fonctions</a></td>
      </tr>
    </table>

    <div class="langue">
      <a class="c1" href="../EN/script.html">English version</a>
    </div>

    <h2>Principe</h2>

    <p>Avec IanniX, vous pouvez écrire vos propres scripts pour plus facilement créer des projets
    complexes. Les scripts sont écrits en Javascript mais même avec des connaissances limitées de
    Javascript, plusieurs types de scripts utiles peuvent être créés. En plus de cette
    documentation, plusieurs exemples de scripts sont fournis pour votre étude. Vous pouvez les
    trouver dans la section Scripts et Styles de l'inspecteur.</p>

    <p>Pour regarder un script, cliquez-droit sur un script dans l'explorateur et choisissez
    <code>Open</code>. Le menu de contexte contient aussi d'autres pour fonctionner avec les 
    scripts. De plus, vous pouvez exécuter un script en double-cliquant sur son nom dans
    l'inspecteur.</p>

    <p>Si vous voulez en apprendre plus sur le Javascript, pour créer des scripts plus avancés, il y a de nombreux
    livres, tutoriels en ligne and de référence disponibles pour vous aider. Aussi, n'hésitez pas
    à rechercher sur le forum de IanniX pour plus d'informations sur les conventions utilisées
    en écriture Javascript, ou pour des astuces pour écrire des scripts pour Iannix.</p>

    <p>Voici un lien vers la référence complète de la version de Javascript utilisée dans IanniX : <a href=
    "http://doc.qt.nokia.com/qsa-1.2.2/language.html">Référence</a></p>

    <h2>Contrôler IanniX à partir d'un script</h2>

    <h3>La commande Javascript <code>run()</code></h3>

    <p>La fonction run() est utilisée pour envoyer la plupart de commandes à IanniX à partir d'un script. Les commandes
    doivent être fournies à run() en tant que chaîne unique, les commandes de textes doivent donc être entre guillemets. 
	Exemple :</p>

    <p><code>run("zoom 100");</code> Définit le zoom à 100%</p>

    <p>Pour combiner des paramètres numériques avec des commandes de texte, afin de produire une chaîne à envoyer à
    <code>run()</code>, utilisez l'opérateur de concaténation. Dans l'exemple suivant, center_x
    et center_y sont des variables numériques et doivent être concaténées en chaîne.</p>

    <p><code>run("setPos current " + center_x + " " + center_y + " 0");</code></p>

    <p>Autres exemples :<br /></p>

    <ul>
      <li>Effacer la partition :<br />
      <code>run("clear");</code></li>

      <li>Définir le zoom à 100% :<br />
      <code>run("zoom 100");</code></li>

      <li>Donne au trigger un ID basé sur la valeur de la variable
      <code>myID</code> :<br />
      <code>run("add trigger " + myID);</code></li>

      <li>Définit le groupe d'un trigger à "foo" :<br />
      <code>run("setGroup current foo");</code></li>

      <li>Définit la position du trigger aux coordonnées x=1, y=3, z=0 :<br />
      <code>run("setPos current 1 3 0");</code></li>

      <li>Définit le message du trigger :<br />
      <code>run("setMessage current 1, osc://127.0.0.1:57120/trigger trigger_id
      trigger_xPos trigger_yPos cursor_id");</code></li>

      <li>Diminue de moitié la taille du trigger :<br />
      <code>run("setSize current 0.5");</code></li>
    </ul>

    <p>N'oubliez pas le «<code>;</code>» à la fin de chaque ligne. Notez que les constantes numériques
    ou les paramètres de type chaîne peuvent être inclus directement dans la commande de texte, tandis que les valeurs
    dans les variables doivent être jointes avec l'opérateur de concaténation. N'oubliez pas d'inclure
    des espaces dans les chaînes concaténées pour que les commandes et les paramètres dans la chaîne résultante soient 
	séparés d'au moins un espace.</p>

    <p>Voir <a href="listing.html">Index des fonctions</a> pour obtenir la liste des fonctions que vous
    pouvez utiliser dans la commande <code>run()</code> pour contrôler IanniX.</p>

    <h3>Les commandes <code>title()</code> et <code>ask()</code></h3>

    <p>En plus de <code>run()</code>, deux autres fonctions Javascript functions sont fournies pour
    écrire un script :</p>

    <ul>
      <li>Déclare "name" en tant que nom de votre projet :<br />
      <code>title("name");</code></li>

      <li>Ouvre une fenêtre où l'utilisateur peut remplir les constantes pour initialiser le
      script :<br />
      <code>ask("category, label, variable, defaultValue);</code><br />
      <br />
      Le paramètre «category» permet de regrouper plusieurs requêtes <code>ask()</code>
      sous un nom. Toutes les requêtes de la même catégorie sont regroupées sous
      le nom «category». «Label» est utilisé en tant qu'affichage de la requête. «Variable» est
      le nom d'une variable créée pour contenir les données. «Default» est la valeur
      suggérée à l'utilisateur en tant que valeur par défaut de la variable. L'utilisateur est libre de
      nommer les catégories, labels et les variables tels que requis.<br /></li>
    </ul>

    <h3>La structure d'un script</h3>

    <p>IanniX exécute un script en plusieurs phases. Vous pouvez contrôler la phase dans laquelle
    vos commandes sont utilisées en les regroupant dans des fonctions appelées lors de
    phases spécifiques de l'exécution. Ces fonctions sont :</p>

    <ul>
      <li>Appelé par IanniX pour préparer un script à être exécuté :<br />
      <code>onCreate()</code><br />
      {<br />
      //Insérer vos commandes ici<br />
      };</li>

      <li>Appelé par IanniX pour mener à bien les actions prévues par le script :<br />
      <code>onConfigure()<br />
      {<br />
      //Insérer vos commandes ici<br />
      };</code></li>

      <li>Appelé à chaque fois que IanniX reçoit un message OSC. Cette section est seulement nécessaire
      pour les scripts qui reçoivent des messages OSC. (Par exemple pour le script
      de configuration) :<br />
      <code>onMessage()<br />
      {<br />
      //Insérer vos commandes ici<br />
      };</code></li>
    </ul>

    <p>Voici l'exemple d'un script simple :</p><br />
    <pre>
          //Configuration du script
          function onConfigure() {                
              title("My new script");             //Nomme le script
              
              //Demande les paramètres pour personnaliser le comportement du script
              iannix.ask("Triggers", "Trigger x-position", "trigger_xPosition", 3);
          }
          
          //Création de la partition
          function onCreate() {
              run("clear");                       //Efface les objets de la partition
              run("center 0 0");                  //Se centre sur l'origine de la partition
              run("zoom 100");                    //100% zoom
  
              run("add trigger 1");               //Ajoute un trigger d'ID 1
              run("setPos current 1 2 0");        //Déplace le trigger aux coordonnées (1, 2, 0)
  
              addATrigger();                      //Appelle votre fonction personnalisée
          }
          
          //Définit une fonction personnalisée
          function addATrigger() {
              //Insérer le code pour ajouter et configurer un trigger ici.
              //Normalement la fonction addATrigger() doit avoir des paramètres à passer pour ajouter le trigger.
          }
                
</pre>

    <p>Les deux seules fonctions qui doivent être dans la fonction <code>configure()</code> sont
    <code>title() et <code>ask()</code>. Le reste du code à exécuter doit
    être placé dans la fonction <code>create()</code>. Vous pouvez aussi définir vos propres
    fonctions, constantes, etc. en plus des fonctions principales. Comme par exemple,
    la fonction <code>addATrigger()</code>, ci-dessus.</code></p>

    <h3>Créer vos propres fonctions</h3>

    <p>Exemple : Cette fonction donne un nombre aléatoire entre les paramètres
    <code>min</code> et <code>max</code>.</p>

    <p><code>function randomFloat(min, max) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Math.random() * (max-min) + min;<br />
    }</code></p>

    <h3>Créer vos propres bibliothèques de fonctions</h3>

    <p>Iannix donne la possibilité de prédéfinir des bibliothèques de fonctions fréquemment utilisées
    dans les scripts. Les fichiers de type <code>&lt;name&gt;.js</code> dans le dossier Outils
    sont scannés au démarrage de IanniX et les variables, classes et fonctions
    sont rendues disponibles pour leur utilisation dans les scripts. Notez que si une bibliothèque de fichier est
    éditée lorsque IanniX est lancé, IanniX doit être redémarré pour que les modifications prennent
    effet.</p>

    <h3>Variables et fonctions prédéfinies</h3>

    <p>IanniX inclut une bibliothèque de fonctions d'aide définie dans le fichier "JavaScript
    Library.js."<br />
    Cette bibliothèque inclut les fonctions suivantes :</p>

    <h3>Constantes utiles :</h3>

    <ul>
      <li><code>E</code> : la constante mathématique e</li>

      <li><code>LN2</code> : le logarithme népérien de 2</li>

      <li><code>LN10</code> : le logarithme népérien de 10</li>

      <li><code>LOG2E</code> : le logarithme de base 2 e</li>

      <li><code>LOG10E</code> : le logarithme de base 10  e</li>

      <li><code>PI</code> : la constante PI</li>

      <li><code>TWO_PI</code> : deux fois PI</li>

      <li><code>THIRD_PI</code> : PI divisé par 3</li>

      <li><code>QUARTER_PI</code> : PI divisé par 4</li>

      <li><code>HALF_PI</code> : Pi divisé par 2</li>

      <li><code>SQRT1_2</code> : la racine carrée d'un demi</li>

      <li><code>SQRT2</code> : la racine carrée de deux</li>
    </ul>

    <h3>Fonctions mathématiques :</h3>

    <ul>
      <li><code>abs(x)</code> : valeur absolue de x</li>

      <li><code>acos(x)</code> : arccosinus de x</li>

      <li><code>asin(x)</code> : arcsinus de x</li>

      <li><code>atan(x)</code> : arctangente de x</li>

      <li><code>atan2(x,y)</code> : arctangente de x divisé par y</li>

      <li><code>ceil(x)</code> : prochain int au-dessus de x</li>

      <li><code>cos(x)</code> : cosinus de x</li>

      <li><code>exp(x)</code> : exponentielle de x</li>

      <li><code>floor(x)</code> : rochain int en-dessous de x</li>

      <li><code>log(x)</code> : logarithme de x</li>

      <li><code>min(x,y)</code> :minimum de x et y</li>

      <li><code>max(x,y)</code> : maximum de x et y</li>

      <li><code>pow(x,y)</code> : x puissance y</li>

      <li><code>round(x)</code> : x arrondi</li>

      <li><code>sin(x)</code> : sinus de x</li>

      <li><code>sqrt(x)</code> : racine carrée x</li>

      <li><code>sq(x)</code> : x carré</li>

      <li><code>tan(x)</code> : tangente de x</li>

      <li><code>degrees(x)</code> : convertit l'angle x (en radian) en degré</li>

      <li><code>radians(x)</code> : convertit l'angle x (en degré) en radian</li>

      <li><code>random(low, high)</code> : retourne un nombre aléatoire entre low et
      high</li>

      <li><code>constrain(x, min, max)</code> : jette les valeurs de x en-dessous de min et au-dessus de max</li>

      <li><code>dist(x1, y1, z1, x2, y2, z2)</code> : distance entre les points
      <code>(x1, y1, z1)</code> et <code>(x2, y2, z2)</code></li>
    </ul>

    <h3>Fonctions d'échelle des données</h3>

    <ul>
      <li>Dimensionne x pour couvrir les rangs de low à high, en assumant que x est entre 0.0 et
      1.0 :<br />
      <code>norm(x, low, high)</code>:</li>

      <li>Dimensionne x pour couvrir les rangs de low à high, en assumant que x est entre 0.0 et
      1.0,<br />
      avec <code>mid</code> qui retourne la valeur correspondant à x=0.5:<br />
      <code>rangeMid(x, low, mid, high)</code></li>

      <li>Dimensionne x pour couvrir les rangs de <code>low2</code> à <code>high2</code>,
      en assumant que x est entre <code>low1</code> et <code>high1</code> :<br />
      <code>map(x, low1, high1, low2, high2)</code></li>
    </ul>

    <div id="plotting" class='main container'></div>

    <h2>Tracé de courbes</h2>

    <p>IanniX offre la fonction <code>plot()</code> pour vous aider à tracer en 2D ou en 3D
    des courbes paramétriques basées sur des fonctions mathématiques, en utilisant soit les coordonnées cartésiennes
	soit polaires.</p>

    <p>Une courbe paramétrique est définie comme la fonction d'un paramètre indépendant (souvent
    appelé t) qui définit les valeurs des coordonnées tracées comme une fonction de t.
    Pour le tracé de coordonnées cartésiennes (ex : x, y, x) vous devez fournir les fonctions
    qui définissent les valeurs de x, y et z (facultatif), comme une fonction de t. Pour des coordonnées polaires,
    vous devez fournir les fonctions de t pour définir r (le radius), theta (l'angle) et
    (phi) (l'angle au-dessus ou en-dessous du plan). Dans IanniX, les fonctions doivent
    définir les coordonnées pour des valeurs t entre 0.0 et 1.0.</p>

    <p>Le tracé de courbes caractéristiques utilise un certain nombre de fonctionnalités avancées de Javascript, mais vous
    pouvez l'utiliser en insérant vos équations dans de simples patterns, un pattern pour un tracé de courbe en x, y, z
    (Cartésien) et un autre pour un tracé de courbe en coordonnées polaires.</p>

    <h3>Tracé de courbes en coordonnées cartésiennes</h3>

    <p>Remplacez le texte à droite des deux points des variables x, y et z par vos expressions. 
	N'oubliez pas d'inclure la virgule à la fin de l'expression.</p><br />
    <pre>
          plot(function(t){ return {
             index   : 0, nbPoints: 300, 
             offset  : {x: 0, y:0, z:0}, 
  
             x   : expression donnant x en fonction de t,
             y   : expression donnant y en fonction de t,
             z   : expression donnant z en fonction de t,
  
             t   : [0,1]
          }});
                
</pre>

    <h3>Tracé de courbes en coordonnées polaires</h3>

    <p>Remplacez le texte à droite des deux points des variables theta, r et phi par vos expressions. 
	N'oubliez pas d'inclure la virgule à la fin de l'expression.</p><br />
    <pre>
          plot(function(t) { return {
             index   : 0, nbPoints: 300, 
             offset  : {x: 0, y:0, z:0}, 
  
             theta   : expression donnant l'angle theta (en radians) en fonction de t,
             r       : expression donnant r en fonction de t,
             phi     : expression donnant l'angle phi (en radians) en fonction de t,
  
             t       : [0,1]
          }});
                
</pre>

</pre>

    <h3>Exemple : script pour créer une courbe parabolique en utilisant les coordonnées polaires</h3>

    <p>Pour voir le résultat de ce script, lancez l'exemple "Simple Parabola" dans les fichiers exemples
    de l'inspecteur.</p><br/>
    <pre>
          function onCreate() {
              //Configuration de l'affichage
              run("clear");
              run("center 0 0");
              run("rotate 0 0 0");
              run("zoom 100");
  
              run("add curve  1000");
              run("setPos     current 0 0 0");
          
              //Tracé de la courbe
              plot(function(t) { return {
                  index   : 0, nbPoints: 300, 
                  offset  : {x: 0, y:0, z:0}, 
  
                  x   : 5*t,   //ex : x = 5 fois t
                               //(comme t va de 0 à 1, x va de 0 à 5.)
                               
                  y   : 3*t*t, //ex : y = 3 fois t au carré
                               //(comme t va de 0 à 1, y va de 0 à 3.)
                               
                  z   : 0,     //z est toujours égal à 0
  
                  t       : [0,1] }});
                  
              //Rajouter un curseur
              run("add cursor 1001");
              run("setCurve   current lastCurve");        
              run("setSpeed   current auto 100");
          }
                
</pre>

    <h3>Exemple : script pour créer une spirale simple en utilisant les coordonnées polaires</h3>

    <p>Pour voir le résultat de ce script, lancez l'exemple "Simple Spiral" dans les fichiers exemples
    de l'inspecteur.</p><br/>
    <pre>
          function onCreate() {
              //Configuration de l'affichage
              run("clear");
              run("center 0 0");
              run("rotate 0 0 0");
              run("zoom 100");
  
              run("add curve  1000");
              run("setPos     current 0 0 0");
          
              //Tracé de courbe
              plot(function(t) { return {
                  index   : 0, nbPoints: 300, 
                  offset  : {x: 0, y:0, z:0}, 
  
                  theta   : TWO_PI * t,	  //ex : theta = deux Pi fois t
                        //(comme t va de 0 à 1, theta va de 0 à deux Pi.)
                        //Comme un angle de 2*Pi en radians correspond à 360 degrés, theta
                        //effectue une rotation une fois pendant que t va de 0 à 1.
                        
                  r       : 3*t,          //ex : x = 3 fois t
                        //(Comme t va de 0 à 1, le radius va de 0 à 3.)
                             
                  phi     : 0,		  //phi est toujours égal à 0
  
                  t       : [0,1] }});
                  
              //Rajouter un curseur
              run("add cursor 1001");
              run("setCurve   current lastCurve");        
              run("setSpeed   current auto 100");
          }
                
</pre>

    <p>Pour un exemple des courbes intéressantes et complexes que vous pouvez facilement créer avec
    des équations paramétriques, essayez de dupliquez (avec le menu de contexte) l'exemple "Learn - Simple
    Spiral" dans les scripts exemples de l'inspecteur de IanniX. Ouvrez ensuite le script avec le menu de contexte
    et changez <code>phi : 0</code> en <code>phi : sin(20*t)</code>.
    Exécutez le script en double-cliquant dessus dans l'inspecteur. Maintenez ensuite le touche Alt
    et faîtes glisser la souris sur la partition pour voir la courbe sinusoïdale que vous venez de créer. Lancez
    la lecture du curseur pour le voir onduler sur la courbe.</p>

    <div id="drawingcurves" class='main container'></div>

    <h2>Dessiner des courbes de Bézier</h2>

    <p>La fonction setPointAt() de IanniX permet aux scripts de créer des courbes en 2D et en 3D à partir
    d'une séquence de lignes droites et de segments courbés (Bézier cubique).</p>

    <h3>Créer une courbe</h3>

    <p>Commencez une nouvelle courbe avec :<br />
    <code>run("add curve id");</code><br />
    Créer un objet courbe avec l'ID spécifié. La courbe n'a encore reçu aucun
    points. La localisation d'un nouvel objet est par défaut (0,0,0).</p>

    <h3>La fonction setPointAt</h3>

    <p>La fonction setPointAt est utilisée pour ajouter des points ou changer des points sur une courbe.
    Le comportement de la fonction setPointAt() diffère selon les paramètres reçus :<br /></p>

    <ul>
      <li>Pour définir le premier point de la trajectoire :<br />
      <code>run("setPointAt id 0 x y &lt;z&gt;");<br />
      définit le point 0 à x, y (et facultativement z pour une trajectoire 3D).</code></li>

      <li>Pour ajouter un segment de ligne droite à la trajectoire :<br />
      <code>run("setPointAt id pNum x y &lt;z&gt;");</code><br />
      où pNum est le nombre du point précédant toujours le point de nombre pNum+1.</li>

      <li>Pour changer le point final d'un segment de ligne droite d'une trajectoire existante :<br />
      <code>run("setPointAt id pNum x y &lt;z&gt;");</code><br />
      où pNum est le nombre du point à changer.</li>

      <li>Pour ajouter un segment courbé et définir sa courbure :<br />
      <code>run("setPointAt id pNum x y &lt;z&gt; dxStart dyStart &lt;dzStart&gt; dxEnd
      dyEnd &lt;dzEnd&gt; ");</code><br />
      où le point final du segment est x, y et facultativement z. Le segment démarre
      tangent à une ligne depuis son point de départ, (la fin du segment précédent) jusqu'au
      point <code>(xStart+dxStart, yStart+dyStart, &lt;zStart+dZstart&gt;)</code>. Le
      segment finit tangent à une ligne de son point final <code>(x, y, &lt;z&gt;)</code> au
      point <code>(x+dxEnd, y+dyEnd, &lt;z+dyEnd&gt;)</code>. Notez que le point
      de départ sera le point <code>(x, y, &lt;z&gt;)</code> dans l'appel précédent de
      setPointAt.</li>

      <li>Pour changer un segment courbé précédemment défini :<br />
        <code>run("setPointAt id pNum cx1 cy1 &lt;cz1&gt; cx2 cy2 &lt;cz2&gt; x y
        &lt;z&gt;");</code><br />
        où pNum est le nombre d'un point précédemment définir et les autres paramètres
        comme définis ci-dessus.<br />

        <p>(Les paramètres optionnels sont indiqués entre parenthèses &lt; &gt;)</p>
      </li>
    </ul>

    <p>Tous les champs de <code>setPointAt</code> spécifient la localisation du point comme x y
    &lt;z&gt;. Les paramètres qui spécifient les segments de Bézier incluent deux autres points, cx1 cy1
    &lt;cz1&gt; et cx2 cy2 &lt;cz2&gt;, qui décrivent la courbure. La direction de
    la courbe quittant son point de départ est tangente à la ligne à partir du point de départ jusqu'au
    premier point de contrôle cx1 cy1 &lt;cz1&gt;. La direction de la courbe arrivant à son point final
    est tangente à la ligne à partir du point de contrôle cx2 cy2 &lt;cz2&gt; jusqu'au point final
    x y &lt;z&gt;.</p>

    <h3>Exemple d'une création de courbe avec des segments 2D et 3D</h3>

    <p>Le code suivant est celui de l'exemple "Learn - Curve points" qui peut être trouvé
    dans l'explorateur de scripts de l'inspecteur. Il créé une trajectoire avec cinq segments et
    cinq points. Le premier segment est une ligne droite en 2D, la seconde est une courbe de Bézier 2D, la suivante est
    une ligne droite en 3D et le quatrième segment est une Bézier 3D. Lancez le script d'exemple pour
    voir à quoi ressemble la courbe. Pour voir sa forme en 3D, pressez la touche Alt et glissez
    la souris sur la partition. Vous pouvez réinitialiser l'angle de vue en lançant le script "Reset
    orientation" dans la section Outils du navigateur de scripts.</p>
    <pre>
   
          //Création de la partition
          function onCreate() {
              //Configuration de la vue
              run("clear");
              run("center 0 0");
              run("zoom 100");
              run("rotate 0 0 0");
                  
              //Création de la courbe
              run("add curve  1000");
          
              //Point numéro 0
              //Coordonnées x0 = -2, y0 = 1
              run("setPointAt current  0  -2 1");
          
              //Dessine un segment droit en 2D du point numéro 0 au
              //point numéro 1, qui est à (x1,y1) = (-2,3)
              run("setPointAt current  1   -2  3");
          
              //Dessine un segment de Bézier en 2D du point numéro 1 au
              //point numéro 2, qui est à (x2,y2) = (2,3)
              //Le segment de départ est tangent à la ligne de (x1,y1) à (x1+2, y1+2)
              //Le segment de fin est tangent à la ligne de (x2,y2) à (x2+0,x2+3)
              run("setPointAt current  2    2  3   +2 +2   +0 +3 ");
          
              //Dessine un segment droit en 3D du point numéro 2 au
              //point numéro 3, qui est à (x3,y3,z3) = (0,2,1)
              run("setPointAt current  3    0 2 1");
          
              //Dessine un segment de Bézier en 3D du point numéro 3 au
              //point numéro 4, qui est à (x4,y4,z4) = (-2,-1,0) 
              //Il commence tangent à la ligne de (x3,y3,z3) à (x3+0,y3-1,z3+2)
              //Finit tangent à la ligne de (x4,y4,z4) à (x4+4,x4+0,z4+0)
              run("setPointAt current  4   -2 -1 0   +0 -1 +2   +4 +0 +0");
          
              //Rajoute un curseur sur la courbe
              run("add cursor 1");
              run("setCurve   current lastCurve");        
              run("setSpeed   current auto 10");
          }
        
</pre>
  </div>
</body>
</html>
